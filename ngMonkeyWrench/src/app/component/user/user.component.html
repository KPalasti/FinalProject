<app-contractor-sidebar>Loading...</app-contractor-sidebar>
<div class="userContent">

  <h1>Users Page - Under Construction</h1>
  <br><br><br>



  <br><br><br>
  <div class='userWrapper'>
    <div class="userListBox" >
      <div *ngIf="!editUser" >
        <button (click)="editUser = true">Edit</button>
        <p>Name: {{currentUser.firstName}} {{currentUser.lastName}}</p>
        <p>Phone #: ({{currentUser.phoneNumber | slice:0:3}}) {{currentUser.phoneNumber | slice:3:6}}-{{currentUser.phoneNumber | slice:6:10}}</p>
        <p *ngIf="currentUser.role === 'business' ">Notes: {{currentUser.notes}}</p>
        <p>Username: {{currentUser.username}}</p>
      </div>

      <div *ngIf="editUser">
        ID: <input type="text" name="id" [(ngModel)]="currentUser.id"><br>
        Fist name: <input type="text" name="firstName" [(ngModel)]="currentUser.firstName"><br>
        Last name: <input type="text" name="lastName" [(ngModel)]="currentUser.lastName"><br>
        Phone #: <input type="text" name="phoneNumber" [(ngModel)]="currentUser.phoneNumber"><br>
        Notes: <input type="text" name="notes" [(ngModel)]="currentUser.notes"><br>
        Username: <input type="text" name="username" [(ngModel)]="currentUser.username"><br>
        Password: <input type="text" name="password" [(ngModel)]="currentUser.password"><br>
        <button (click)="editUser=false">Cancel</button>
        <button (click)="updateUser(currentUser)">Save</button>
      </div>
    </div>    <!-- end user div -->
      <br><br>

    <!-- <div class="addressListBox" > -->
    <div *ngIf="currentUser.role === 'business'">
      <div class="userListBox" >
        <h1>Business:</h1>
        <table class="table table-striped table-hover">
          <thead class="table-danger">
            <tr>
              <th>Owner Name</th>
              <th>Busness Name</th>
              <th class="editAddressBtn"></th>
            </tr>
          </thead>
          <tbody class=" table-info">
            <tr *ngFor="let business of businesses">
              <!-- <label for=""></label><td></td> -->
              <td>{{currentUser.firstName}} {{currentUser.lastName}}</td>
              <td>Biz name: {{business.name}} | Type: {{business.serviceTypes}} | Enabled: {{business.enabled}}</td>
              <td ><button class="action" >Remove</button></td>  <!-- Removes userId from address or puts at user ID 1 which can be an admin user which cares for unassigned-->
            </tr>
          </tbody>
          <br>
        </table>
      </div>
    </div>   <!-- end business div -->
    <br><br>


    <!-- <div class="businessListBox" > -->
    <div class="addressListBox" >
      <h1>Addresses:</h1>
      <table class="table table-striped table-hover">
        <thead class="table-danger">
          <tr>
            <th>Owner Name</th>
            <th>Address</th>
            <th class="editAddressBtn"></th>
          </tr>
        </thead>
        <tbody class=" table-info">
          <tr *ngFor="let userAddress of addresses">
            <td>{{userAddress.user?.firstName}} {{userAddress.user?.lastName}}</td>
            <td>{{userAddress.street}} {{userAddress.city}}, {{userAddress.stateAbbv}} {{userAddress.zipCode}}</td>
            <td ><button (click)="udpateAddress(userAddress)" >Remove</button></td>  <!-- Removes userId from address or puts at user ID 1 which can be an admin user which cares for unassigned-->
          </tr>
        </tbody>
        <br>
      </table>
    </div>  <!-- end address div -->


  </div>    <!-- End class userWrapper   -->
</div>   <!-- End class userContent   -->
